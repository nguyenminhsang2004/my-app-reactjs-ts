{"ast":null,"code":"import { toast } from 'react-toastify';\nimport { postAction } from './postSlice';\nimport { call, put, takeLatest } from \"@redux-saga/core/effects\";\nimport postApi from 'api/postApi';\n\nfunction* fetchPostList() {\n  try {\n    const response = yield call(postApi.getAll);\n\n    if (response.success) {\n      yield put(postAction.fetchPostListSuccess(response));\n    } else {\n      toast.error(response.content.message);\n      yield put(postAction.fetchPostListFailed(response.content.message));\n    }\n  } catch (error) {\n    console.log(error);\n    yield put(postAction.fetchPostListFailed('Fetch post data failed'));\n  }\n}\n\nexport default function* postSaga() {\n  yield takeLatest(postAction.fetchPostList.type, fetchPostList);\n}","map":{"version":3,"sources":["D:/REACTJS/APP/client/src/features/posts/postSaga.ts"],"names":["toast","postAction","call","put","takeLatest","postApi","fetchPostList","response","getAll","success","fetchPostListSuccess","error","content","message","fetchPostListFailed","console","log","postSaga","type"],"mappings":"AAAA,SAASA,KAAT,QAAsB,gBAAtB;AACA,SAASC,UAAT,QAA2B,aAA3B;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,UAApB,QAAsC,0BAAtC;AACA,OAAOC,OAAP,MAAoB,aAApB;;AAGA,UAAUC,aAAV,GAAyB;AACrB,MAAI;AACA,UAAMC,QAAoB,GAAG,MAAML,IAAI,CAACG,OAAO,CAACG,MAAT,CAAvC;;AACA,QAAGD,QAAQ,CAACE,OAAZ,EAAoB;AAChB,YAAMN,GAAG,CAACF,UAAU,CAACS,oBAAX,CAAgCH,QAAhC,CAAD,CAAT;AACH,KAFD,MAGI;AACAP,MAAAA,KAAK,CAACW,KAAN,CAAYJ,QAAQ,CAACK,OAAT,CAAiBC,OAA7B;AACA,YAAMV,GAAG,CAACF,UAAU,CAACa,mBAAX,CAA+BP,QAAQ,CAACK,OAAT,CAAiBC,OAAhD,CAAD,CAAT;AACH;AAEJ,GAVD,CAUE,OAAOF,KAAP,EAAc;AACZI,IAAAA,OAAO,CAACC,GAAR,CAAYL,KAAZ;AACA,UAAMR,GAAG,CAACF,UAAU,CAACa,mBAAX,CAA+B,wBAA/B,CAAD,CAAT;AACH;AACJ;;AAED,eAAe,UAAUG,QAAV,GAAoB;AAC/B,QAAMb,UAAU,CAACH,UAAU,CAACK,aAAX,CAAyBY,IAA1B,EAAgCZ,aAAhC,CAAhB;AACH","sourcesContent":["import { toast } from 'react-toastify';\r\nimport { postAction } from './postSlice';\r\nimport { call, put, takeLatest } from \"@redux-saga/core/effects\";\r\nimport postApi from 'api/postApi';\r\nimport { DataResponse, Post } from 'models';\r\n\r\nfunction* fetchPostList(){\r\n    try {\r\n        const response: List<Post> = yield call(postApi.getAll);\r\n        if(response.success){\r\n            yield put(postAction.fetchPostListSuccess(response));\r\n        }\r\n        else{\r\n            toast.error(response.content.message);\r\n            yield put(postAction.fetchPostListFailed(response.content.message));\r\n        }\r\n\r\n    } catch (error) {\r\n        console.log(error);\r\n        yield put(postAction.fetchPostListFailed('Fetch post data failed'));\r\n    }\r\n}\r\n\r\nexport default function* postSaga(){\r\n    yield takeLatest(postAction.fetchPostList.type, fetchPostList);\r\n}"]},"metadata":{},"sourceType":"module"}