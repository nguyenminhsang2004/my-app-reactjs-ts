{"ast":null,"code":"var _jsxFileName = \"D:\\\\REACTJS\\\\APP\\\\client\\\\src\\\\features\\\\posts\\\\components\\\\PostItem.tsx\",\n    _s = $RefreshSig$();\n\nimport { Avatar, Button, Card, CardActions, CardContent, CardHeader, CardMedia, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, IconButton, Menu, MenuItem, Typography } from '@material-ui/core';\nimport { red } from '@material-ui/core/colors';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport { Delete, Edit } from '@material-ui/icons';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport postApi from 'api/postApi';\nimport { useDispatch } from 'react-redux';\nimport moment from 'moment';\nimport React, { useCallback, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => createStyles({\n  root: {\n    maxWidth: 345\n  },\n  media: {\n    height: 0,\n    paddingTop: '56.25%'\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    marginLeft: 'auto',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest\n    })\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)'\n  },\n  avatar: {\n    backgroundColor: red[500]\n  },\n  title: {\n    cursor: 'pointer'\n  }\n}));\nexport default function PostItem({\n  post,\n  onEdit,\n  onRemove\n}) {\n  _s();\n\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const [openPost, setOpenPost] = useState(false);\n  const [openConfirmRemove, setConfirmRemove] = useState(false);\n\n  const handleCloseConfirmRemove = () => {\n    setConfirmRemove(false);\n    setAnchorEl(null);\n  };\n\n  const handleOpenConfirmRemove = () => {\n    setConfirmRemove(true);\n  };\n\n  const handleOpenPost = () => {\n    setOpenPost(true);\n  };\n\n  const handleClosePost = () => {\n    setOpenPost(false);\n  };\n\n  const [anchorEl, setAnchorEl] = useState(null);\n  const openMenu = Boolean(anchorEl);\n\n  const handleOpenMenu = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleEditPost = () => {\n    setAnchorEl(null);\n    onEdit === null || onEdit === void 0 ? void 0 : onEdit(post);\n  };\n\n  const handleRemovePost = () => {\n    setAnchorEl(null);\n    setConfirmRemove(false);\n    onRemove === null || onRemove === void 0 ? void 0 : onRemove(post._id);\n  };\n\n  const handleCloseMenu = () => {\n    setAnchorEl(null);\n  };\n\n  const handleLikeClick = useCallback(() => {\n    dispatch(postApi.update({ ...post,\n      like: post.like + 1\n    }));\n  }, [dispatch]);\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: classes.root,\n    children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n      avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n        \"aria-label\": \"recipe\",\n        className: classes.avatar,\n        src: post.author.imageUrl\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 21\n      }, this),\n      action: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          \"aria-label\": \"settings\",\n          onClick: handleOpenMenu,\n          children: /*#__PURE__*/_jsxDEV(MoreVertIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Menu, {\n          id: \"menu-appbar\",\n          anchorEl: anchorEl,\n          anchorOrigin: {\n            vertical: 'top',\n            horizontal: 'right'\n          },\n          keepMounted: true,\n          transformOrigin: {\n            vertical: 'top',\n            horizontal: 'right'\n          },\n          open: openMenu,\n          onClose: handleCloseMenu,\n          children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n            onClick: handleEditPost,\n            children: /*#__PURE__*/_jsxDEV(Edit, {\n              color: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 64\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n            onClick: handleOpenConfirmRemove,\n            children: /*#__PURE__*/_jsxDEV(Delete, {\n              color: \"secondary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 73\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true),\n      title: post.author.fullName,\n      subheader: moment(post.createdAt).format('HH:MM MMM DD, YYYY')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CardMedia, {\n      className: classes.media,\n      image: post.imageUrl,\n      title: \"Paella dish\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        className: classes.title,\n        variant: \"body2\",\n        color: \"textSecondary\",\n        component: \"p\",\n        onClick: handleOpenPost,\n        children: post.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n      disableSpacing: true,\n      children: [/*#__PURE__*/_jsxDEV(IconButton, {\n        \"aria-label\": \"add to favorites\",\n        onClick: handleLikeClick,\n        children: /*#__PURE__*/_jsxDEV(FavoriteIcon, {\n          color: \"secondary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }, this), \"\\xA0 \", post.like]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openPost,\n      onClose: handleClosePost,\n      \"aria-labelledby\": \"alert-dialog-title\",\n      \"aria-describedby\": \"alert-dialog-description\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        id: \"alert-dialog-title\",\n        children: post.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            paragraph: true,\n            children: post.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleClosePost,\n          color: \"secondary\",\n          variant: \"contained\",\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openConfirmRemove,\n      onClose: handleCloseConfirmRemove,\n      \"aria-labelledby\": \"alert-dialog-title\",\n      \"aria-describedby\": \"alert-dialog-description\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        id: \"alert-dialog-title\",\n        children: \"Remove post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n          id: \"alert-dialog-description\",\n          children: [\"Are you sure remove post title: \\\"\", post === null || post === void 0 ? void 0 : post.title, \"\\\". \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 74\n          }, this), \"This action can't undo.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleCloseConfirmRemove,\n          color: \"primary\",\n          variant: \"outlined\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleRemovePost,\n          color: \"secondary\",\n          variant: \"contained\",\n          autoFocus: true,\n          children: \"Remove\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 9\n  }, this);\n}\n\n_s(PostItem, \"kKpTUI+S3r8hJ2OVDZAwzotYhNo=\", false, function () {\n  return [useStyles, useDispatch];\n});\n\n_c = PostItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostItem\");","map":{"version":3,"sources":["D:/REACTJS/APP/client/src/features/posts/components/PostItem.tsx"],"names":["Avatar","Button","Card","CardActions","CardContent","CardHeader","CardMedia","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","IconButton","Menu","MenuItem","Typography","red","createStyles","makeStyles","Delete","Edit","FavoriteIcon","MoreVertIcon","postApi","useDispatch","moment","React","useCallback","useState","useStyles","theme","root","maxWidth","media","height","paddingTop","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","avatar","backgroundColor","title","cursor","PostItem","post","onEdit","onRemove","classes","dispatch","openPost","setOpenPost","openConfirmRemove","setConfirmRemove","handleCloseConfirmRemove","setAnchorEl","handleOpenConfirmRemove","handleOpenPost","handleClosePost","anchorEl","openMenu","Boolean","handleOpenMenu","event","currentTarget","handleEditPost","handleRemovePost","_id","handleCloseMenu","handleLikeClick","update","like","author","imageUrl","vertical","horizontal","fullName","createdAt","format","content"],"mappings":"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","sourcesContent":["import {\r\n    Avatar,\r\n    Button,\r\n    Card, CardActions, CardContent, CardHeader, CardMedia,\r\n    Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, IconButton, Menu, MenuItem, Typography\r\n} from '@material-ui/core';\r\nimport { red } from '@material-ui/core/colors';\r\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\r\nimport { Delete, Edit } from '@material-ui/icons';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport postApi from 'api/postApi';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Post } from 'models';\r\nimport moment from 'moment';\r\nimport React, { useCallback, useState } from 'react';\r\n\r\nexport interface PostItemProps {\r\n    post: Post;\r\n    onEdit: (post: Post) => void;\r\n    onRemove: (id: string) => void;\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      maxWidth: 345,\r\n    },\r\n    media: {\r\n      height: 0,\r\n      paddingTop: '56.25%', \r\n    },\r\n    expand: {\r\n      transform: 'rotate(0deg)',\r\n      marginLeft: 'auto',\r\n      transition: theme.transitions.create('transform', {\r\n        duration: theme.transitions.duration.shortest,\r\n      }),\r\n    },\r\n    expandOpen: {\r\n      transform: 'rotate(180deg)',\r\n    },\r\n    avatar: {\r\n      backgroundColor: red[500],\r\n    },\r\n    title: {\r\n        cursor: 'pointer'\r\n    },\r\n  })\r\n);\r\n\r\nexport default function PostItem({ post, onEdit, onRemove }: PostItemProps) {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const [openPost, setOpenPost] = useState(false);\r\n\r\n    const [openConfirmRemove, setConfirmRemove] = useState(false);\r\n\r\n    const handleCloseConfirmRemove = () => {\r\n        setConfirmRemove(false);\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const handleOpenConfirmRemove = () => {\r\n        setConfirmRemove(true);\r\n    };\r\n\r\n    const handleOpenPost = () => {\r\n        setOpenPost(true);\r\n    };\r\n\r\n    const handleClosePost = () => {\r\n        setOpenPost(false);\r\n    };\r\n\r\n    const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\r\n    const openMenu = Boolean(anchorEl);\r\n    \r\n\r\n    const handleOpenMenu = (event: React.MouseEvent<HTMLElement>) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleEditPost = () => {\r\n        setAnchorEl(null);\r\n        onEdit?.(post);\r\n    }\r\n\r\n    const handleRemovePost = () => {\r\n        setAnchorEl(null);\r\n        setConfirmRemove(false);\r\n        onRemove?.(post._id);\r\n    }\r\n\r\n    const handleCloseMenu = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const handleLikeClick = useCallback(\r\n         () => {\r\n            dispatch(postApi.update({...post, like: post.like + 1}));\r\n        },\r\n        [dispatch],\r\n    );\r\n\r\n    return (\r\n        <Card className={classes.root}>\r\n            <CardHeader\r\n                avatar={\r\n                    <Avatar aria-label=\"recipe\" className={classes.avatar} src={post.author.imageUrl}/>\r\n                }\r\n                action={\r\n                    <>\r\n                        <IconButton \r\n                            aria-label=\"settings\"\r\n                            onClick={handleOpenMenu}\r\n                        >\r\n                            <MoreVertIcon />\r\n                        </IconButton>\r\n                        <Menu\r\n                            id=\"menu-appbar\"\r\n                            anchorEl={anchorEl}\r\n                            anchorOrigin={{\r\n                                vertical: 'top',\r\n                                horizontal: 'right',\r\n                            }}\r\n                            keepMounted\r\n                            transformOrigin={{\r\n                                vertical: 'top',\r\n                                horizontal: 'right',\r\n                            }}\r\n                            open={openMenu}\r\n                            onClose={handleCloseMenu}\r\n                        >\r\n                            <MenuItem onClick={handleEditPost}><Edit color=\"primary\"/></MenuItem>\r\n                            <MenuItem onClick={handleOpenConfirmRemove}><Delete color=\"secondary\"/></MenuItem>\r\n                        </Menu>\r\n                    </>\r\n                }\r\n                title={post.author.fullName}\r\n                subheader={moment(post.createdAt).format('HH:MM MMM DD, YYYY')}\r\n            />\r\n            <CardMedia\r\n                className={classes.media}\r\n                image={post.imageUrl}\r\n                title=\"Paella dish\"\r\n            />\r\n            <CardContent>\r\n                <Typography className={classes.title} variant=\"body2\" color=\"textSecondary\" component=\"p\" onClick={handleOpenPost}>\r\n                    {post.title}\r\n                </Typography>\r\n            </CardContent>\r\n            <CardActions disableSpacing>\r\n                <IconButton aria-label=\"add to favorites\" onClick={handleLikeClick}>\r\n                    <FavoriteIcon color=\"secondary\" /> \r\n                </IconButton>\r\n                &nbsp; {post.like}\r\n            </CardActions>\r\n            {/* Dialog post content */}\r\n            <Dialog\r\n                open={openPost}\r\n                onClose={handleClosePost}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n            >\r\n                <DialogTitle id=\"alert-dialog-title\">{post.title}</DialogTitle>\r\n                <DialogContent>\r\n                    <CardContent>\r\n                        <Typography paragraph>\r\n                            {post.content}\r\n                        </Typography>\r\n                    </CardContent>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleClosePost} color=\"secondary\" variant=\"contained\">\r\n                        Close\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n            {/* Dialog confirm remove post */}\r\n            <Dialog\r\n                open={openConfirmRemove}\r\n                onClose={handleCloseConfirmRemove}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n            >\r\n                <DialogTitle id=\"alert-dialog-title\">Remove post</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        Are you sure remove post title: \"{post?.title}\". <br/>\r\n                        This action can&apos;t undo.\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleCloseConfirmRemove} color=\"primary\" variant=\"outlined\">\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={handleRemovePost} color=\"secondary\" variant=\"contained\" autoFocus>\r\n                        Remove\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n        </Card>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}