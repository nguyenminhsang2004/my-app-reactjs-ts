{"ast":null,"code":"var _jsxFileName = \"D:\\\\REACTJS\\\\APP\\\\client\\\\src\\\\features\\\\posts\\\\components\\\\PostForm.tsx\",\n    _s = $RefreshSig$();\n\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { Box, Button, CircularProgress, makeStyles, Typography } from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { InputField, RandomImageField } from 'components/FormFields';\nimport React, { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport * as yup from \"yup\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst schema = yup.object().shape({\n  title: yup.string().required('Please enter title !!!'),\n  content: yup.string().required('Please enter content !!!'),\n  imageUrl: yup.string().required()\n});\nconst useStyles = makeStyles(theme => ({\n  title: {\n    textAlign: 'center',\n    textTransform: 'uppercase'\n  },\n  button: {\n    textAlign: 'center',\n    marginTop: theme.spacing(3)\n  }\n}));\nexport default function PostForm({\n  initialValue,\n  onSubmit,\n  isEdit\n}) {\n  _s();\n\n  const classes = useStyles();\n  const [error, setError] = useState('');\n  const currentUser = us;\n  const {\n    control,\n    handleSubmit,\n    formState: {\n      isSubmitting\n    }\n  } = useForm({\n    defaultValues: initialValue,\n    resolver: yupResolver(schema)\n  });\n\n  const handleSubmitForm = async formValue => {\n    try {\n      setError('');\n      await (onSubmit === null || onSubmit === void 0 ? void 0 : onSubmit(formValue));\n    } catch (error) {\n      console.log(error);\n      setError('Create post failed.');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    maxWidth: 600,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      className: classes.title,\n      variant: \"h4\",\n      children: isEdit ? 'Update post info' : 'Add new post'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(handleSubmitForm),\n      children: [/*#__PURE__*/_jsxDEV(InputField, {\n        name: \"title\",\n        control: control,\n        label: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        name: \"content\",\n        control: control,\n        label: \"Content\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(RandomImageField, {\n        name: \"imageUrl\",\n        control: control\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        className: classes.button,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          size: \"large\",\n          type: \"submit\",\n          variant: \"contained\",\n          color: \"primary\",\n          disabled: isSubmitting,\n          children: [isSubmitting && /*#__PURE__*/_jsxDEV(CircularProgress, {\n            size: 20,\n            color: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 42\n          }, this), \" Save\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n}\n\n_s(PostForm, \"zqGmV1UHShTRxQD1vkt5fLapJVc=\", false, function () {\n  return [useStyles, useForm];\n});\n\n_c = PostForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostForm\");","map":{"version":3,"sources":["D:/REACTJS/APP/client/src/features/posts/components/PostForm.tsx"],"names":["yupResolver","Box","Button","CircularProgress","makeStyles","Typography","Alert","InputField","RandomImageField","React","useState","useForm","yup","schema","object","shape","title","string","required","content","imageUrl","useStyles","theme","textAlign","textTransform","button","marginTop","spacing","PostForm","initialValue","onSubmit","isEdit","classes","error","setError","currentUser","us","control","handleSubmit","formState","isSubmitting","defaultValues","resolver","handleSubmitForm","formValue","console","log"],"mappings":"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","sourcesContent":["import { yupResolver } from '@hookform/resolvers/yup';\r\nimport { Box, Button, CircularProgress, makeStyles, Typography } from '@material-ui/core';\r\nimport { Alert } from '@material-ui/lab';\r\nimport { InputField, RandomImageField } from 'components/FormFields';\r\nimport { Post } from 'models';\r\nimport React, { useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport * as yup from \"yup\";\r\n\r\nconst schema = yup.object().shape({\r\n    title: yup.string().required('Please enter title !!!'),\r\n    content: yup.string().required('Please enter content !!!'),\r\n    imageUrl: yup.string().required(),\r\n});\r\n\r\nexport interface PostFormProps {\r\n    initialValue: Post;\r\n    onSubmit: (formValue: Post) => void;\r\n    isEdit: boolean;\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    title: {\r\n        textAlign: 'center',\r\n        textTransform: 'uppercase',\r\n    },\r\n    button: {\r\n        textAlign: 'center',\r\n        marginTop: theme.spacing(3),\r\n    },\r\n\r\n}));\r\n\r\nexport default function PostForm ({initialValue, onSubmit, isEdit}: PostFormProps) {\r\n    const classes = useStyles();\r\n\r\n    const [error, setError] = useState<string>('');\r\n\r\n    const currentUser = us\r\n\r\n    const {\r\n        control,\r\n        handleSubmit,\r\n        formState: {isSubmitting}\r\n    } = useForm<Post>({\r\n        defaultValues: initialValue,\r\n        resolver: yupResolver(schema)\r\n    });\r\n\r\n    const handleSubmitForm = async (formValue: Post) => {\r\n        try {\r\n            setError('');\r\n            await onSubmit?.(formValue);\r\n        } catch (error) {\r\n            console.log(error);\r\n            setError('Create post failed.');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Box maxWidth={600}>\r\n            <Typography className={classes.title} variant=\"h4\">\r\n                {isEdit ? 'Update post info' : 'Add new post'}\r\n            </Typography>\r\n            <form onSubmit={handleSubmit(handleSubmitForm)}>\r\n                <InputField name=\"title\" control={control} label=\"Title\"/>\r\n                <InputField name=\"content\" control={control} label=\"Content\"/>\r\n                <RandomImageField name=\"imageUrl\" control={control}/>\r\n\r\n                {error && <Alert severity=\"error\">{error}</Alert>}\r\n\r\n                <Box className={classes.button}>\r\n                    <Button size=\"large\" type=\"submit\" variant=\"contained\" color=\"primary\" disabled={isSubmitting}>\r\n                        {isSubmitting && <CircularProgress size={20} color=\"primary\"/>} Save\r\n                    </Button>\r\n                </Box>\r\n            </form>\r\n        </Box>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}