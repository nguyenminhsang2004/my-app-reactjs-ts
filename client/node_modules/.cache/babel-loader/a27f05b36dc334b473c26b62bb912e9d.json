{"ast":null,"code":"import { call, put, takeLatest } from \"@redux-saga/core/effects\";\nimport postApi from 'api/postApi';\nimport { toast } from 'react-toastify';\nimport { postAction } from './postSlice';\n\nfunction* fetchPostList() {\n  try {\n    const response = yield call(postApi.getAll);\n\n    if (response.success) {\n      yield put(postAction.fetchPostListSuccess(response));\n    } else {\n      toast.error(response.content.message);\n      yield put(postAction.fetchPostListFailed(response.content.message));\n    }\n  } catch (error) {\n    console.log(error);\n    yield put(postAction.fetchPostListFailed('Fetch post data failed'));\n  }\n}\n\nexport default function* postSaga() {\n  yield takeLatest(postAction.fetchPostList.type, fetchPostList);\n}","map":{"version":3,"sources":["D:/REACTJS/APP/client/src/features/posts/postSaga.ts"],"names":["call","put","takeLatest","postApi","toast","postAction","fetchPostList","response","getAll","success","fetchPostListSuccess","error","content","message","fetchPostListFailed","console","log","postSaga","type"],"mappings":"AAAA,SAASA,IAAT,EAAeC,GAAf,EAAoBC,UAApB,QAAsC,0BAAtC;AACA,OAAOC,OAAP,MAAoB,aAApB;AAEA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAASC,UAAT,QAA2B,aAA3B;;AAEA,UAAUC,aAAV,GAAyB;AACrB,MAAI;AACA,UAAMC,QAA4B,GAAG,MAAMP,IAAI,CAACG,OAAO,CAACK,MAAT,CAA/C;;AACA,QAAGD,QAAQ,CAACE,OAAZ,EAAoB;AAChB,YAAMR,GAAG,CAACI,UAAU,CAACK,oBAAX,CAAgCH,QAAhC,CAAD,CAAT;AACH,KAFD,MAGI;AACAH,MAAAA,KAAK,CAACO,KAAN,CAAYJ,QAAQ,CAACK,OAAT,CAAiBC,OAA7B;AACA,YAAMZ,GAAG,CAACI,UAAU,CAACS,mBAAX,CAA+BP,QAAQ,CAACK,OAAT,CAAiBC,OAAhD,CAAD,CAAT;AACH;AAEJ,GAVD,CAUE,OAAOF,KAAP,EAAc;AACZI,IAAAA,OAAO,CAACC,GAAR,CAAYL,KAAZ;AACA,UAAMV,GAAG,CAACI,UAAU,CAACS,mBAAX,CAA+B,wBAA/B,CAAD,CAAT;AACH;AACJ;;AAED,eAAe,UAAUG,QAAV,GAAoB;AAC/B,QAAMf,UAAU,CAACG,UAAU,CAACC,aAAX,CAAyBY,IAA1B,EAAgCZ,aAAhC,CAAhB;AACH","sourcesContent":["import { call, put, takeLatest } from \"@redux-saga/core/effects\";\r\nimport postApi from 'api/postApi';\r\nimport { ListResponse, Post } from 'models';\r\nimport { toast } from 'react-toastify';\r\nimport { postAction } from './postSlice';\r\n\r\nfunction* fetchPostList(){\r\n    try {\r\n        const response: ListResponse<Post> = yield call(postApi.getAll);\r\n        if(response.success){\r\n            yield put(postAction.fetchPostListSuccess(response));\r\n        }\r\n        else{\r\n            toast.error(response.content.message);\r\n            yield put(postAction.fetchPostListFailed(response.content.message));\r\n        }\r\n\r\n    } catch (error) {\r\n        console.log(error);\r\n        yield put(postAction.fetchPostListFailed('Fetch post data failed'));\r\n    }\r\n}\r\n\r\nexport default function* postSaga(){\r\n    yield takeLatest(postAction.fetchPostList.type, fetchPostList);\r\n}"]},"metadata":{},"sourceType":"module"}