{"ast":null,"code":"var _jsxFileName = \"D:\\\\REACTJS\\\\App\\\\client\\\\src\\\\features\\\\posts\\\\pages\\\\AddEditPostPage.tsx\",\n    _s = $RefreshSig$();\n\nimport { Box, Fab, makeStyles, Typography } from '@material-ui/core';\nimport { ArrowBack } from '@material-ui/icons';\nimport postApi from 'api/postApi';\nimport React, { useState, useEffect } from 'react';\nimport { Link, useHistory, useParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport PostForm from '../components/PostForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {},\n  title: {\n    te\n  },\n  fab: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2)\n  }\n}));\nexport default function AddEditPostPage() {\n  _s();\n\n  const classes = useStyles();\n  const history = useHistory();\n  const {\n    postId\n  } = useParams();\n  const [post, setPost] = useState();\n  const isEdit = Boolean(postId);\n  useEffect(() => {\n    if (!isEdit) return;\n\n    (async () => {\n      try {\n        const response = await postApi.getPostById(postId);\n        setPost(response);\n      } catch (error) {\n        console.log(error);\n      }\n    })();\n  }, [postId]);\n  const initialValue = {\n    title: '',\n    content: '',\n    author: '',\n    like: 0,\n    category: '',\n    imageUrl: '',\n    ...post\n  };\n\n  const handleSubmitForm = async formValue => {\n    if (isEdit) {//await postApi.update(formValue);\n    } else {//await postApi.add(formValue);\n      }\n\n    toast.success('Save post successfully.');\n    history.push('/home/post');\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      className: classes.title,\n      variant: \"h4\",\n      children: isEdit ? 'Update post info' : 'Add new post'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), (!isEdit || Boolean(post)) && /*#__PURE__*/_jsxDEV(Box, {\n      children: /*#__PURE__*/_jsxDEV(PostForm, {\n        initialValue: initialValue,\n        onSubmit: handleSubmitForm\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      style: {\n        textDecoration: 'none'\n      },\n      to: \"/home/post\",\n      children: /*#__PURE__*/_jsxDEV(Fab, {\n        className: classes.fab,\n        color: \"primary\",\n        size: \"large\",\n        variant: \"extended\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(ArrowBack, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 19\n        }, this), \" Back to post\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AddEditPostPage, \"iy782TxYJxIViPbI1G1neCXvZsk=\", false, function () {\n  return [useStyles, useHistory, useParams];\n});\n\n_c = AddEditPostPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddEditPostPage\");","map":{"version":3,"sources":["D:/REACTJS/App/client/src/features/posts/pages/AddEditPostPage.tsx"],"names":["Box","Fab","makeStyles","Typography","ArrowBack","postApi","React","useState","useEffect","Link","useHistory","useParams","toast","PostForm","useStyles","theme","root","title","te","fab","position","bottom","spacing","right","AddEditPostPage","classes","history","postId","post","setPost","isEdit","Boolean","response","getPostById","error","console","log","initialValue","content","author","like","category","imageUrl","handleSubmitForm","formValue","success","push","textDecoration"],"mappings":"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","sourcesContent":["import { Box, Fab, makeStyles, Typography } from '@material-ui/core';\r\nimport { ArrowBack } from '@material-ui/icons';\r\nimport postApi from 'api/postApi';\r\nimport { Post } from 'models';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Link, useHistory, useParams } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport PostForm from '../components/PostForm';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n      \r\n    },\r\n\r\n    title: {\r\n        te\r\n    },\r\n  \r\n    fab:{\r\n      position: 'fixed',\r\n      bottom: theme.spacing(2),\r\n      right: theme.spacing(2),\r\n    }\r\n}))\r\n\r\nexport default function AddEditPostPage () {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const { postId } = useParams<{postId: string}>();\r\n    const [post, setPost] = useState<Post>();\r\n\r\n    const isEdit = Boolean(postId);\r\n\r\n    useEffect(() => {\r\n        if(!isEdit) return;\r\n        (async() => {\r\n            try {\r\n                const response: Post = await postApi.getPostById(postId);\r\n                setPost(response);\r\n            } catch (error) {\r\n                console.log(error);\r\n            }            \r\n        })()\r\n    }, [postId]);\r\n\r\n    const initialValue: Post = {\r\n        title: '',\r\n        content: '',\r\n        author: '',\r\n        like: 0,\r\n        category: '',\r\n        imageUrl: '',\r\n        ...post,\r\n    } as Post\r\n\r\n    const handleSubmitForm = async (formValue: Post) => {\r\n        if(isEdit){\r\n            //await postApi.update(formValue);\r\n        }\r\n        else{\r\n            //await postApi.add(formValue);\r\n        }\r\n        toast.success('Save post successfully.');\r\n        history.push('/home/post');\r\n    }\r\n\r\n    return (\r\n        <Box>\r\n            <Typography className={classes.title} variant=\"h4\">\r\n                {isEdit ? 'Update post info' : 'Add new post'}\r\n            </Typography>\r\n\r\n            {(!isEdit || Boolean(post)) && (\r\n                <Box>\r\n                    <PostForm initialValue={initialValue} onSubmit={handleSubmitForm}/>                \r\n                </Box>\r\n            )}\r\n\r\n            <Link \r\n                style={{textDecoration:'none'}} \r\n                to='/home/post'\r\n            >\r\n                <Fab \r\n                    className={classes.fab} \r\n                    color=\"primary\" \r\n                    size=\"large\" \r\n                    variant=\"extended\"\r\n                > <ArrowBack/> Back to post\r\n                </Fab>\r\n            </Link>\r\n        </Box>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}